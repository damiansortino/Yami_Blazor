#pragma checksum "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "13d0598f0793e1a0f0bf986e1c6208666a10ce0a"
// <auto-generated/>
#pragma warning disable 1591
namespace LaymarClientSide.Client.Pages.Stock
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 2 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#line 3 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 4 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 5 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 6 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client;

#line default
#line hidden
#line 7 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client.Shared;

#line default
#line hidden
#line 8 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#line 9 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client.Helpers;

#line default
#line hidden
#line 10 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Shared;

#line default
#line hidden
#line 11 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#line 12 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using OfficeOpenXml;

#line default
#line hidden
#line 13 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using OfficeOpenXml.Style;

#line default
#line hidden
#line 14 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using System.Drawing;

#line default
#line hidden
#line 1 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
using LaymarClientSide.Shared.Entidades;

#line default
#line hidden
#line 3 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
using LaymarClientSide.Shared.Dtos;

#line default
#line hidden
#line 6 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
using LaymarClientSide.Client.Repositorio;

#line default
#line hidden
#line 4 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
           [Authorize(Roles = "Stock, Admin")]

#line default
#line hidden
    [Microsoft.AspNetCore.Components.RouteAttribute("/movimientoStock")]
    public partial class MovimientoStockComponent : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h2 class=\"mt-2\">\r\n    <strong>\r\n        <span class=\"badge badge-light\">\r\n            <strong><i class=\"fas fa-cubes mr-1 text-info\" style=\"font-size:1.3rem;\"></i>MOVIMIENTOS DE STOCK</strong>\r\n        </span>\r\n    </strong>\r\n</h2>\r\n\r\n");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "row col-md-12 mx-0");
            __builder.AddMarkupContent(3, "\r\n    ");
            __builder.OpenElement(4, "button");
            __builder.AddAttribute(5, "class", "btn btn-info");
            __builder.AddAttribute(6, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 20 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                             async()=> await ModalToggle()

#line default
#line hidden
            ));
            __builder.AddContent(7, "Nuevo Movimiento");
            __builder.CloseElement();
            __builder.AddMarkupContent(8, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(9, "\r\n");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "row col-md-12 mx-0  pt-2");
            __builder.AddMarkupContent(12, "\r\n    ");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "col-md-12 row mx-0 px-0");
            __builder.AddMarkupContent(15, "\r\n        ");
            __builder.OpenElement(16, "div");
            __builder.AddAttribute(17, "class", "input-group col-md-3 mb-3 mx-0 px-0");
            __builder.AddMarkupContent(18, "\r\n            ");
            __builder.AddMarkupContent(19, "<div class=\"input-group-prepend input-group-sm \">\r\n                <span class=\"input-group-text \" id=\"basic-addon1\">Desde</span>\r\n            </div>\r\n            ");
            __builder.OpenElement(20, "input");
            __builder.AddAttribute(21, "type", "date");
            __builder.AddAttribute(22, "class", "form-control");
            __builder.AddAttribute(23, "value", 
#line 28 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                            DateTime.Now.AddHours(-3).ToString("yyyy-MM-dd")

#line default
#line hidden
            );
            __builder.AddAttribute(24, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 28 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                                           async (ChangeEventArgs e)=> { fechaDesde = Convert.ToDateTime(e.Value.ToString());  await ListarMovimientoStock(); }

#line default
#line hidden
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\r\n        ");
            __builder.OpenElement(27, "div");
            __builder.AddAttribute(28, "class", "input-group mb-3 col-md-3");
            __builder.AddMarkupContent(29, "\r\n            ");
            __builder.AddMarkupContent(30, "<div class=\"input-group-prepend input-group-sm\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">Hasta</span>\r\n            </div>\r\n            ");
            __builder.OpenElement(31, "input");
            __builder.AddAttribute(32, "type", "date");
            __builder.AddAttribute(33, "class", "form-control");
            __builder.AddAttribute(34, "value", 
#line 34 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                            DateTime.Now.AddHours(-3).ToString("yyyy-MM-dd")

#line default
#line hidden
            );
            __builder.AddAttribute(35, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 34 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                                           async (ChangeEventArgs e)=> { fechaHasta = Convert.ToDateTime(e.Value.ToString()); await ListarMovimientoStock(); }

#line default
#line hidden
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(36, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n    ");
            __builder.OpenElement(39, "div");
            __builder.AddAttribute(40, "class", "input-group mb-3");
            __builder.AddMarkupContent(41, "\r\n        ");
            __builder.OpenElement(42, "div");
            __builder.AddAttribute(43, "class", "input-group-prepend");
            __builder.AddMarkupContent(44, "\r\n            ");
            __builder.OpenElement(45, "button");
            __builder.AddAttribute(46, "type", "button");
            __builder.AddAttribute(47, "class", "btn btn-outline-secondary");
            __builder.AddContent(48, 
#line 40 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                      criterioBusqueda == String.Empty ? "Producto" : criterioBusqueda

#line default
#line hidden
            );
            __builder.AddContent(49, " ");
            __builder.CloseElement();
            __builder.AddMarkupContent(50, "\r\n            ");
            __builder.AddMarkupContent(51, @"<button type=""button"" class=""btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false"">
                <span class=""sr-only"">Toggle Dropdown</span>
            </button>
            ");
            __builder.OpenElement(52, "div");
            __builder.AddAttribute(53, "class", "dropdown-menu");
            __builder.AddMarkupContent(54, "\r\n                ");
            __builder.OpenElement(55, "a");
            __builder.AddAttribute(56, "class", "dropdown-item");
            __builder.AddAttribute(57, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 45 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                     () => criterioBusqueda = " Codigo"

#line default
#line hidden
            ));
            __builder.AddContent(58, "Codigo");
            __builder.CloseElement();
            __builder.AddMarkupContent(59, "\r\n                ");
            __builder.OpenElement(60, "a");
            __builder.AddAttribute(61, "class", "dropdown-item");
            __builder.AddAttribute(62, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 46 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                     () => criterioBusqueda = " Producto"

#line default
#line hidden
            ));
            __builder.AddContent(63, "Producto");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n                ");
            __builder.OpenElement(65, "a");
            __builder.AddAttribute(66, "class", "dropdown-item");
            __builder.AddAttribute(67, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 47 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                     () => criterioBusqueda = " Sucursal"

#line default
#line hidden
            ));
            __builder.AddContent(68, "Sucursal");
            __builder.CloseElement();
            __builder.AddMarkupContent(69, "\r\n                ");
            __builder.OpenElement(70, "a");
            __builder.AddAttribute(71, "class", "dropdown-item");
            __builder.AddAttribute(72, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 48 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                     () => criterioBusqueda = " Fecha"

#line default
#line hidden
            ));
            __builder.AddContent(73, "Fecha");
            __builder.CloseElement();
            __builder.AddMarkupContent(74, "\r\n                ");
            __builder.OpenElement(75, "a");
            __builder.AddAttribute(76, "class", "dropdown-item");
            __builder.AddAttribute(77, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 49 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                     () => criterioBusqueda = " Tipo Movimiento"

#line default
#line hidden
            ));
            __builder.AddContent(78, "Tipo Movimiento");
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(81, "\r\n        ");
            __builder.OpenElement(82, "input");
            __builder.AddAttribute(83, "type", "text");
            __builder.AddAttribute(84, "class", "form-control");
            __builder.AddAttribute(85, "onkeypress", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 52 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                                               (KeyboardEventArgs e)=> {  FiltrarMovimientoStock(e); }

#line default
#line hidden
            ));
            __builder.AddAttribute(86, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 52 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                              cadenafiltroBusqueda

#line default
#line hidden
            ));
            __builder.AddAttribute(87, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cadenafiltroBusqueda = __value, cadenafiltroBusqueda));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(88, "\r\n\r\n        ");
            __builder.AddMarkupContent(89, "<div>\r\n\r\n        </div>\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n\r\n\r\n\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n\r\n");
            __builder.OpenElement(92, "div");
            __builder.AddAttribute(93, "class", "row col-md-12 mx-0");
            __builder.AddMarkupContent(94, "\r\n    ");
            __Blazor.LaymarClientSide.Client.Pages.Stock.MovimientoStockComponent.TypeInference.CreateListadoGenerico_0(__builder, 95, 96, 
#line 64 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                              movimientoStocksBuscados

#line default
#line hidden
            , 97, (__builder2) => {
                __builder2.AddMarkupContent(98, "\r\n            ");
                __builder2.OpenElement(99, "table");
                __builder2.AddAttribute(100, "class", "table");
                __builder2.AddMarkupContent(101, "\r\n                ");
                __builder2.AddMarkupContent(102, @"<thead class=""bg-dark text-white"">
                    <tr>
                        <td>Codigo</td>
                        <td>Tipo</td>
                        <td>Producto</td>
                        <td>Fecha</td>
                        <td>Sucursal</td>
                        <td>Entra</td>
                        <td>Sale</td>
                        <td>Comprobante</td>
                        <td>Cantidad</td>

                    </tr>
                </thead>
                ");
                __builder2.OpenElement(103, "tbody");
                __builder2.AddMarkupContent(104, "\r\n");
#line 82 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                     foreach (MovimientoStock movimiento in movimientoStocksBuscados)
                    {


#line default
#line hidden
                __builder2.AddContent(105, "                        ");
                __builder2.OpenElement(106, "tr");
                __builder2.AddAttribute(107, "class", 
#line 85 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                     movimiento.fechaBaja != null? "text-danger":""

#line default
#line hidden
                );
                __builder2.AddMarkupContent(108, "\r\n                            ");
                __builder2.OpenElement(109, "td");
                __builder2.AddContent(110, 
#line 86 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.MovimientoStockId

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(111, "\r\n                            ");
                __builder2.OpenElement(112, "td");
                __builder2.AddContent(113, 
#line 87 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.tipoMovimientoStock.nombreTipoMovimientoStock

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(114, "\r\n                            ");
                __builder2.OpenElement(115, "td");
                __builder2.AddContent(116, 
#line 88 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.stock.producto.nombre

#line default
#line hidden
                );
                __builder2.AddContent(117, " (");
                __builder2.AddContent(118, 
#line 88 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                     movimiento.stock.producto.ProductoId

#line default
#line hidden
                );
                __builder2.AddContent(119, ")");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(120, "\r\n\r\n                            ");
                __builder2.OpenElement(121, "td");
                __builder2.AddContent(122, 
#line 90 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.fechaAlta

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(123, "\r\n                            ");
                __builder2.OpenElement(124, "td");
                __builder2.AddContent(125, 
#line 91 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.stock.sucursal.nombreSucursal

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(126, "\r\n\r\n                            ");
                __builder2.OpenElement(127, "td");
                __builder2.OpenElement(128, "i");
                __builder2.AddAttribute(129, "class", 
#line 93 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                            movimiento.entra ? " fas fa-check text-success" : "fas fa-times text-danger" 

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(130, "\r\n                            ");
                __builder2.OpenElement(131, "td");
                __builder2.OpenElement(132, "i");
                __builder2.AddAttribute(133, "class", 
#line 94 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                            movimiento.sale ? " fas fa-check text-success" : "fas fa-times text-danger" 

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(134, "\r\n                            ");
                __builder2.OpenElement(135, "td");
                __builder2.AddContent(136, 
#line 95 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                  movimiento.comprobante != null ? $"{movimiento.comprobante.codigo}":""

#line default
#line hidden
                );
                __builder2.AddContent(137, " ");
                __builder2.OpenElement(138, "strong");
                __builder2.AddAttribute(139, "class", "text-danger");
                __builder2.AddContent(140, 
#line 95 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                                                        movimiento.fechaBaja != null? " (ANULADO)":""

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(141, "\r\n\r\n                            ");
                __builder2.OpenElement(142, "td");
                __builder2.AddContent(143, 
#line 97 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                 movimiento.cantidad

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(144, "\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(145, "\r\n");
#line 100 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"

                    }

#line default
#line hidden
                __builder2.AddContent(146, "                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(147, "\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(148, "\r\n        ");
            }
            , 149, (__builder2) => {
                __builder2.AddContent(150, "No hay movimiento de stock en el rango de fechas seleccionadas");
            }
            );
            __builder.AddMarkupContent(151, "\r\n\r\n\r\n    ");
            __builder.OpenElement(152, "div");
            __builder.AddAttribute(153, "class", "col-md-12 row mx-0");
            __builder.AddMarkupContent(154, "\r\n        ");
            __builder.OpenElement(155, "div");
            __builder.AddAttribute(156, "class", "col-md-6 offset-md-3");
            __builder.AddMarkupContent(157, "\r\n            ");
            __builder.OpenComponent<LaymarClientSide.Client.Shared.PaginacionComp>(158);
            __builder.AddAttribute(159, "PaginaActual", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#line 111 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                          paginaActual

#line default
#line hidden
            ));
            __builder.AddAttribute(160, "PaginasTotales", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32>(
#line 111 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                        paginasTotales

#line default
#line hidden
            ));
            __builder.AddAttribute(161, "PaginaSeleccionada", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Int32>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Int32>(this, 
#line 111 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                            paginaSeleccionada

#line default
#line hidden
            )));
            __builder.CloseComponent();
            __builder.AddMarkupContent(162, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(163, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(164, "\r\n\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(165, "\r\n");
            __builder.OpenElement(166, "div");
            __builder.AddAttribute(167, "class", "modal p-0 fade");
            __builder.AddAttribute(168, "id", "modal");
            __builder.AddAttribute(169, "data-backdrop", "static");
            __builder.AddAttribute(170, "tabindex", "-1");
            __builder.AddAttribute(171, "role", "dialog");
            __builder.AddMarkupContent(172, "\r\n    ");
            __builder.OpenElement(173, "div");
            __builder.AddAttribute(174, "class", "modal-dialog rounded border border-solid");
            __builder.AddAttribute(175, "role", "document");
            __builder.AddMarkupContent(176, "\r\n        ");
            __builder.OpenElement(177, "div");
            __builder.AddAttribute(178, "class", "modal-content");
            __builder.AddMarkupContent(179, "\r\n            ");
            __builder.OpenElement(180, "div");
            __builder.AddAttribute(181, "class", "modal-header bg-dark text-white");
            __builder.AddMarkupContent(182, "\r\n                ");
            __builder.AddMarkupContent(183, "<h5 class=\"modal-title\">Nuevo Movimiento de Stock</h5>\r\n                ");
            __builder.OpenElement(184, "button");
            __builder.AddAttribute(185, "type", "button");
            __builder.AddAttribute(186, "class", "close");
            __builder.AddAttribute(187, "data-dismiss", "modal");
            __builder.AddAttribute(188, "aria-label", "Close");
            __builder.AddAttribute(189, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 122 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                                      (async () => { await ModalToggle();  })

#line default
#line hidden
            ));
            __builder.AddMarkupContent(190, "\r\n                    ");
            __builder.AddMarkupContent(191, "<span class=\"text-danger\" aria-hidden=\"true\">&times;</span>\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(192, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(193, "\r\n            ");
            __builder.OpenElement(194, "div");
            __builder.AddAttribute(195, "class", "modal-body p-2 m-1");
            __builder.AddAttribute(196, "data-spy", "scroll");
            __builder.AddMarkupContent(197, "\r\n                ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(198);
            __builder.AddAttribute(199, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#line 128 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                  stock

#line default
#line hidden
            ));
            __builder.AddAttribute(200, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#line 128 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                         GuardarMovimientoStock

#line default
#line hidden
            )));
            __builder.AddAttribute(201, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(202, "\r\n");
#line 129 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                     if (error)
                    {

#line default
#line hidden
                __builder2.OpenElement(203, "div");
                __builder2.AddAttribute(204, "class", "text-danger");
                __builder2.AddContent(205, 
#line 130 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                               errorMessage

#line default
#line hidden
                );
                __builder2.CloseElement();
#line 130 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                 }

#line default
#line hidden
                __builder2.AddContent(206, "                    ");
                __builder2.OpenElement(207, "div");
                __builder2.AddAttribute(208, "class", "row col-md-12 mx-0");
                __builder2.OpenElement(209, "span");
                __builder2.OpenElement(210, "strong");
                __builder2.AddContent(211, 
#line 131 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                   producto.nombre

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(212, "\r\n\r\n                    ");
                __builder2.OpenElement(213, "div");
                __builder2.AddAttribute(214, "class", "input-group mb-2 col-md-12 mt-2");
                __builder2.AddMarkupContent(215, "\r\n                        ");
                __builder2.OpenElement(216, "div");
                __builder2.AddAttribute(217, "class", "col-md-12");
                __builder2.AddMarkupContent(218, "\r\n                            ");
                __builder2.OpenElement(219, "div");
                __builder2.AddAttribute(220, "class", "input-group input-group-sm mb-1 mt-1");
                __builder2.AddMarkupContent(221, "\r\n                                ");
                __builder2.AddMarkupContent(222, "<div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">Codigo Producto</span>\r\n                                </div>\r\n                                ");
                __builder2.OpenElement(223, "input");
                __builder2.AddAttribute(224, "type", "number");
                __builder2.AddAttribute(225, "class", "form-control");
                __builder2.AddAttribute(226, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 139 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                        cadenaBusquedaProducto

#line default
#line hidden
                , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(227, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cadenaBusquedaProducto = __value, cadenaBusquedaProducto, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(228, "\r\n                                ");
                __builder2.OpenElement(229, "div");
                __builder2.AddAttribute(230, "class", "input-group-append");
                __builder2.AddAttribute(231, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 140 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                            ()=> { if(!string.IsNullOrWhiteSpace(cadenaBusquedaProducto)){ buscarProducto(Convert.ToInt32(cadenaBusquedaProducto)); }; }

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(232, "\r\n                                    ");
                __builder2.AddMarkupContent(233, "<label class=\"btn input-group-text\" for=\"inputGroupSelect02\"><i class=\"fas fa-search m-0 p-0\"></i></label>\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(234, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(235, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(236, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(237, "\r\n\r\n\r\n                    ");
                __builder2.OpenElement(238, "div");
                __builder2.AddAttribute(239, "class", "input-group mb-2 col-md-12 mt-2");
                __builder2.AddMarkupContent(240, "\r\n                        ");
                __builder2.OpenElement(241, "div");
                __builder2.AddAttribute(242, "class", "col-md-12");
                __builder2.AddMarkupContent(243, "\r\n                            ");
                __builder2.OpenElement(244, "div");
                __builder2.AddAttribute(245, "class", "input-group input-group-sm mb-1 mt-1");
                __builder2.AddMarkupContent(246, "\r\n                                ");
                __builder2.AddMarkupContent(247, "<div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">Sucursal</span>\r\n                                </div>\r\n                                ");
                __builder2.OpenElement(248, "select");
                __builder2.AddAttribute(249, "class", "form-control");
                __builder2.AddAttribute(250, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 154 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                          async (ChangeEventArgs e)=> { sucursal = sucursales.Where(x => x.SucursalId == Convert.ToInt32(e.Value.ToString())).First(); }

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(251, "\r\n                                    ");
                __builder2.OpenElement(252, "option");
                __builder2.AddAttribute(253, "selected", true);
                __builder2.AddAttribute(254, "disbled", true);
                __builder2.AddContent(255, "Seleccione una sucursal");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(256, "\r\n");
#line 156 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                     foreach (Sucursal sucursal in sucursales)
                                    {

#line default
#line hidden
                __builder2.AddContent(257, "                                        ");
                __builder2.OpenElement(258, "option");
                __builder2.AddAttribute(259, "value", 
#line 158 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                        sucursal.SucursalId

#line default
#line hidden
                );
                __builder2.AddContent(260, 
#line 158 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                              sucursal.nombreSucursal

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(261, "\r\n");
#line 159 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                    }

#line default
#line hidden
                __builder2.AddContent(262, "                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(263, "\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(264, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(265, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(266, "\r\n\r\n                    ");
                __builder2.OpenElement(267, "div");
                __builder2.AddAttribute(268, "class", "input-group mb-2 col-md-12 mt-2");
                __builder2.AddMarkupContent(269, "\r\n                        ");
                __builder2.OpenElement(270, "div");
                __builder2.AddAttribute(271, "class", "col-md-12");
                __builder2.AddMarkupContent(272, "\r\n                            ");
                __builder2.OpenElement(273, "div");
                __builder2.AddAttribute(274, "class", "input-group input-group-sm mb-1 mt-1");
                __builder2.AddMarkupContent(275, "\r\n                                ");
                __builder2.AddMarkupContent(276, "<div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">Tipo Movimiento</span>\r\n                                </div>\r\n                                ");
                __builder2.OpenElement(277, "select");
                __builder2.AddAttribute(278, "class", "form-control");
                __builder2.AddAttribute(279, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 172 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                          (ChangeEventArgs e)=> movimientoStock.tipoMovimientoStock = tipoMovimientoStock.Where(x=> x.TipoMovimientoStockId == Convert.ToInt32(e.Value.ToString())).First()

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(280, "\r\n                                    ");
                __builder2.OpenElement(281, "option");
                __builder2.AddAttribute(282, "selected", true);
                __builder2.AddAttribute(283, "disbled", true);
                __builder2.AddContent(284, "Seleccione una Tipo de Movimiento");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(285, "\r\n");
#line 174 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                     if (tipoMovimientoStock.Count > 0)
                                    {

                                        

#line default
#line hidden
#line 177 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                         foreach (TipoMovimientoStock tipo in tipoMovimientoStock)
                                        {

#line default
#line hidden
                __builder2.AddContent(286, "                                            ");
                __builder2.OpenElement(287, "option");
                __builder2.AddAttribute(288, "value", 
#line 179 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                            tipo.TipoMovimientoStockId

#line default
#line hidden
                );
                __builder2.AddContent(289, 
#line 179 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                         tipo.nombreTipoMovimientoStock

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(290, "\r\n");
#line 180 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                        }

#line default
#line hidden
#line 180 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                         
                                    }

#line default
#line hidden
                __builder2.AddMarkupContent(291, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(292, "\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(293, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(294, "\r\n\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(295, "\r\n                    ");
                __builder2.OpenElement(296, "div");
                __builder2.AddAttribute(297, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(298, "\r\n                        ");
                __builder2.OpenElement(299, "div");
                __builder2.AddAttribute(300, "class", "col-md-6 row mx-0 border border-solid rounded align-items-center");
                __builder2.AddMarkupContent(301, "\r\n                            ");
                __builder2.OpenElement(302, "div");
                __builder2.AddAttribute(303, "class", "col-md-6");
                __builder2.AddMarkupContent(304, "\r\n                                ");
                __builder2.OpenElement(305, "input");
                __builder2.AddAttribute(306, "type", "radio");
                __builder2.AddAttribute(307, "id", "entra");
                __builder2.AddAttribute(308, "name", "drone");
                __builder2.AddAttribute(309, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 192 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                         (ChangeEventArgs e)=> { if(e.Value.ToString() == "on"){ movimientoStock.entra=true; movimientoStock.sale=false; }}

#line default
#line hidden
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(310, "\r\n                                ");
                __builder2.AddMarkupContent(311, "<label for=\"huey\">Entra</label>\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(312, "\r\n\r\n                            ");
                __builder2.OpenElement(313, "div");
                __builder2.AddAttribute(314, "class", "col-md-6");
                __builder2.AddMarkupContent(315, "\r\n                                ");
                __builder2.OpenElement(316, "input");
                __builder2.AddAttribute(317, "type", "radio");
                __builder2.AddAttribute(318, "id", "sale");
                __builder2.AddAttribute(319, "name", "drone");
                __builder2.AddAttribute(320, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 197 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                        (ChangeEventArgs e)=> { if(e.Value.ToString() == "on"){ movimientoStock.sale=true; movimientoStock.entra=false; }}

#line default
#line hidden
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(321, "\r\n                                ");
                __builder2.AddMarkupContent(322, "<label for=\"dewey\">Sale</label>\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(323, "\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(324, "\r\n\r\n                        ");
                __builder2.OpenElement(325, "div");
                __builder2.AddAttribute(326, "class", "input-group mb-2 col-md-6 mt-2");
                __builder2.AddMarkupContent(327, "\r\n                            ");
                __builder2.OpenElement(328, "div");
                __builder2.AddAttribute(329, "class", "input-group input-group-sm mb-1 mt-1");
                __builder2.AddMarkupContent(330, "\r\n                                ");
                __builder2.AddMarkupContent(331, "<div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">Cantidad</span>\r\n                                </div>\r\n                                ");
                __builder2.OpenElement(332, "input");
                __builder2.AddAttribute(333, "type", "number");
                __builder2.AddAttribute(334, "class", "form-control");
                __builder2.AddAttribute(335, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 208 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
                                                                                        movimientoStock.cantidad

#line default
#line hidden
                , culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.AddAttribute(336, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => movimientoStock.cantidad = __value, movimientoStock.cantidad, culture: global::System.Globalization.CultureInfo.InvariantCulture));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(337, "\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(338, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(339, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(340, "\r\n\r\n                    ");
                __builder2.AddMarkupContent(341, "<div class=\"d-flex justify-content-center row col-md-12 mx-0 mt-2 mb-3\">\r\n\r\n                        <button type=\"submit\" class=\"btn btn-success col-md-12\"><i class=\"fas fa-save mr-1\"></i> Guardar</button>\r\n                    </div>\r\n\r\n                ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(342, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(343, "\r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(344, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(345, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#line 230 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Stock\MovimientoStockComponent.razor"
       
    public string cadenaBusquedaProducto { get; set; } = String.Empty;
    public string cadenafiltroBusqueda { get; set; } = String.Empty;
    public string criterioBusqueda { get; set; } = "Producto";
    public DateTime fechaDesde { get; set; } = DateTime.Now;
    public DateTime fechaHasta { get; set; } = DateTime.Now;
    public bool error { get; set; }
    public string errorMessage { get; set; }
    public Producto producto { get; set; } = new Producto();
    public Sucursal sucursal { get; set; } = new Sucursal();
    private int paginaActual = 1;
    private int paginasTotales;
    private HttpResponseWrapper<List<MovimientoStock>> responseHttp;

    public MovimientoStock movimientoStock { get; set; } = new MovimientoStock();
    public List<MovimientoStock>
    movimientoStocks
    { get; set; } = new List<MovimientoStock>
        ();

    public Stock stock { get; set; } = new Stock();

    public List<MovimientoStock>
        movimientoStocksBuscados
    { get; set; }
    public List<TipoMovimientoStock>
        tipoMovimientoStock
    { get; set; } = new List<TipoMovimientoStock>
            ();

    public List<Sucursal>
        sucursales
    { get; set; } = new List<Sucursal>
            ();
    public List<Producto>
        productos
    { get; set; } = new List<Producto>
            ();
    public MovimientoStockDto movimientoDto { get; set; } = new MovimientoStockDto();



    private async Task paginaSeleccionada(int pagina)
    {
        paginaActual = pagina;
        await ListarMovimientoStock();
    }

    protected void buscarProducto(int codigo)
    {
        try
        {
            producto = productos.Where(x => x.ProductoId == codigo).First();
            error = false;
        }
        catch (Exception)
        {
            error = true;
            errorMessage = "No hay productos con este cdigo";
        }
    }


    protected override async Task OnInitializedAsync()
    {


        await ListarTipoMovimientoStock();
        await ListarMovimientoStock();
        await ListarSucursales();
        await ListarProductos();
    }
    protected async Task ListarTipoMovimientoStock()
    {
        tipoMovimientoStock = await http.GetJsonAsync<List<TipoMovimientoStock>>("/api/Stock/ListarTipoMovimientoStock");
    }

    protected async Task ListarSucursales()
    {
        sucursales = await http.GetJsonAsync<List<Sucursal>>("/api/Sucursal/Listar");
    }


    protected async Task ListarProductos()
    {
        productos = await http.GetJsonAsync<List<Producto>>("/api/Producto/Listar");
    }


    protected async Task ListarMovimientoStock()
    {
        movimientoStocks = null;
        movimientoStocksBuscados = null;
        responseHttp = await repositorio.Get<List<MovimientoStock>>($"/api/Stock/ListarMovimientoStock?pagina={paginaActual}&fechaDesde={fechaDesde.ToString()}&fechaHasta={fechaHasta.ToString()}");
        if (!responseHttp.Error)
        {
            movimientoStocks = responseHttp.Response;
            movimientoStocksBuscados = movimientoStocks;

            var conteo = responseHttp.HttpResponseMessage.Headers.GetValues("conteo").FirstOrDefault();

            paginasTotales = int.Parse(responseHttp.HttpResponseMessage.Headers.GetValues("totalPaginas").FirstOrDefault());

        }

    }



    protected async Task GuardarMovimientoStock()
    {


        movimientoDto.producto = producto;
        movimientoDto.sucursal = sucursal;
        movimientoDto.movimiento = movimientoStock;

        if (movimientoStock.tipoMovimientoStock == null || movimientoStock.tipoMovimientoStock.TipoMovimientoStockId == 0)
        {
            await Alerta("top-end", "error", "Tienes que seleccionar un tipo de movimiento");
        }
        if (movimientoDto.producto == null || movimientoDto.producto.ProductoId == 0)
        {
            await Alerta("top-end", "error", "Tienes que seleccionar un producto");
        }
        if (movimientoDto.sucursal == null || movimientoDto.sucursal.SucursalId == 0)
        {
            await Alerta("top-end", "error", "Tienes que seleccionar una Sucursal");
        }
        else if (!movimientoStock.sale && !movimientoStock.entra)
        {
            await Alerta("top-end", "error", "Tienes que seleccionar si el movimiento es de entrada o salida");
        }
        else if (movimientoStock.cantidad == 0 || movimientoStock.cantidad < 0)
        {
            await Alerta("top-end", "error", "La cantidad tiene que ser mayor que cero");

        }
        else
        {

            await http.PostJsonAsync($"/api/Stock/CrearMovimiento", movimientoDto);
            
            await Alerta("top-end", "success", "Se cre el movimientoStock con xito");
            await ListarMovimientoStock();
            await ModalToggle();
        }
    }


    protected void FiltrarMovimientoStock(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
        {
            if (cadenafiltroBusqueda != "" && cadenafiltroBusqueda != string.Empty)
            {
                try
                {
                    if (criterioBusqueda == "Codigo")
                    {
                        movimientoStocksBuscados = movimientoStocks.Where(x => x.MovimientoStockId.ToString().ToLower().Contains(cadenafiltroBusqueda.ToLower()) && x.fechaAlta > fechaDesde && x.fechaAlta < fechaHasta.AddHours(24)).ToList();
                    }
                    if (criterioBusqueda == "Producto")
                    {
                        movimientoStocksBuscados = movimientoStocks.Where(x => x.stock.producto.nombre.ToString().ToLower().Contains(cadenafiltroBusqueda.ToLower()) && x.fechaAlta > fechaDesde && x.fechaAlta < fechaHasta.AddHours(24)).ToList();
                    }

                    if (criterioBusqueda == "Sucursal")
                    {
                        movimientoStocksBuscados = movimientoStocks.Where(x => x.stock.sucursal.nombreSucursal.ToString().ToLower().Contains(cadenafiltroBusqueda.ToLower()) && x.fechaAlta > fechaDesde && x.fechaAlta < fechaHasta.AddHours(24)).ToList();
                    }
                    if (criterioBusqueda == "TipoMovimiento")
                    {
                        movimientoStocksBuscados = movimientoStocks.Where(x => x.tipoMovimientoStock.nombreTipoMovimientoStock.ToString().ToLower().Contains(cadenafiltroBusqueda.ToLower()) && x.fechaAlta > fechaDesde && x.fechaAlta < fechaHasta.AddHours(24)).ToList();
                    }

                }
                catch (Exception)
                {


                }

            }
            else { movimientoStocksBuscados = movimientoStocks.Where(x => x.fechaAlta > fechaDesde && x.fechaAlta < fechaHasta.AddHours(24)).ToList(); }
        }
    }


    public async Task Alerta(string posicion = "top-end", string icono = "success", string mensaje = "Se cre el movimientoStock con xito")
    {
        await js.InvokeAsync<object>("alerta", posicion, icono, mensaje);
    }

    public async Task ModalToggle()
    {
        await js.InvokeAsync<object>("ModalToggle");
    }

#line default
#line hidden
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime js { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRepository repositorio { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient http { get; set; }
    }
}
namespace __Blazor.LaymarClientSide.Client.Pages.Stock.MovimientoStockComponent
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateListadoGenerico_0<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.List<T> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::LaymarClientSide.Client.Shared.ListadoGenerico<T>>(seq);
        __builder.AddAttribute(__seq0, "listado", __arg0);
        __builder.AddAttribute(__seq1, "HayRegistros", __arg1);
        __builder.AddAttribute(__seq2, "NoHayRegistros", __arg2);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
