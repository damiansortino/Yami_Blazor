#pragma checksum "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6fc2851caccf7e147fc3958c6e1951f942c3d922"
// <auto-generated/>
#pragma warning disable 1591
namespace LaymarClientSide.Client.Pages.Compras
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 2 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#line 3 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 4 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 5 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 6 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client;

#line default
#line hidden
#line 7 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client.Shared;

#line default
#line hidden
#line 9 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Client.Helpers;

#line default
#line hidden
#line 10 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using LaymarClientSide.Shared;

#line default
#line hidden
#line 11 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#line 12 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using OfficeOpenXml;

#line default
#line hidden
#line 13 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using OfficeOpenXml.Style;

#line default
#line hidden
#line 14 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\_Imports.razor"
using System.Drawing;

#line default
#line hidden
#line 1 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
using LaymarClientSide.Shared.Entidades;

#line default
#line hidden
#line 4 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
using LaymarClientSide.Shared.Dtos;

#line default
#line hidden
#line 5 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#line 3 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
           [Authorize(Roles = "Compras, Admin")]

#line default
#line hidden
    [Microsoft.AspNetCore.Components.RouteAttribute("/Compras")]
    public partial class ComprasComponent : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(2, "\r\n    ");
                __builder2.AddMarkupContent(3, "<h2 class=\"mt-2\">\r\n        <strong>\r\n            <span class=\"badge badge-light\">\r\n                <strong>COMPRAS</strong>\r\n            </span>\r\n        </strong>\r\n    </h2>\r\n    ");
                __builder2.OpenElement(4, "div");
                __builder2.AddAttribute(5, "class", "botonera row col-md-12 mx-0 border bg-light border-solid rounded pt-2");
                __builder2.AddMarkupContent(6, "\r\n\r\n\r\n\r\n        ");
                __builder2.OpenElement(7, "div");
                __builder2.AddAttribute(8, "class", "input-group mb-3 col-md-3");
                __builder2.AddMarkupContent(9, "\r\n            ");
                __builder2.OpenElement(10, "div");
                __builder2.AddAttribute(11, "class", "input-group-prepend input-group-sm");
                __builder2.AddAttribute(12, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 24 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                        async () =>  await BuscarCompra(cadenaBusqueda)

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(13, "\r\n                ");
                __builder2.AddMarkupContent(14, "<span class=\"input-group-text\" id=\"basic-addon1\">CÃ³digo</span>\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(15, "\r\n            ");
                __builder2.OpenElement(16, "input");
                __builder2.AddAttribute(17, "type", "text");
                __builder2.AddAttribute(18, "class", "form-control");
                __builder2.AddAttribute(19, "onkeypress", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 27 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                             async (KeyboardEventArgs e) => { if (e.Key == "Enter") { await BuscarCompra(cadenaBusqueda); } }

#line default
#line hidden
                ));
                __builder2.AddAttribute(20, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 27 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                  cadenaBusqueda

#line default
#line hidden
                ));
                __builder2.AddAttribute(21, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cadenaBusqueda = __value, cadenaBusqueda));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(22, "\r\n\r\n\r\n        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(23, "\r\n        ");
                __builder2.OpenElement(24, "button");
                __builder2.AddAttribute(25, "class", "btn text-primary  mb-3 btn-sm border mr-2 border-solid rounded");
                __builder2.AddAttribute(26, "title", "Buscar");
                __builder2.AddAttribute(27, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 32 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                (async () => { comprasBuscadas = compras; await ModalToggle(); })

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(28, "<i class=\"fas fa-search m-0 p-0\"></i>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(29, " \r\n\r\n");
#line 34 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
         if (compras.Count > 0)
        {


#line default
#line hidden
                __builder2.AddContent(30, "            ");
                __builder2.OpenElement(31, "button");
                __builder2.AddAttribute(32, "class", "btn text-danger  mb-3 btn-sm border border-solid rounded");
                __builder2.AddAttribute(33, "title", "Anular");
                __builder2.AddAttribute(34, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 37 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                async () => { await ModalConfirmToggle(); }

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(35, "<i class=\"fas fa-ban\"></i>");
                __builder2.CloseElement();
                __builder2.AddContent(36, " ");
#line 37 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                                                                                                  
        }

#line default
#line hidden
                __builder2.AddMarkupContent(37, "\r\n\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(38, "\r\n\r\n\r\n    ");
                __builder2.OpenElement(39, "div");
                __builder2.AddAttribute(40, "class", "row col-md-12 mx-0 mt-3");
                __builder2.AddMarkupContent(41, "\r\n\r\n        ");
                __builder2.OpenElement(42, "fieldset");
                __builder2.AddAttribute(43, "id", "FieldSetFormulario");
                __builder2.AddAttribute(44, "class", "border" + " border-solid" + " rounded" + " p-0" + " m-0" + " col-md-12" + " row" + " " + (
#line 46 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                     compra.comprobante.fechaBaja != null ? "border-danger":""

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(45, "\r\n");
#line 48 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
             if (compras.Count > 0)
            {

#line default
#line hidden
                __builder2.AddContent(46, "                ");
                __builder2.OpenElement(47, "div");
                __builder2.AddAttribute(48, "class", "bg-light");
                __builder2.AddMarkupContent(49, "\r\n                    ");
                __builder2.AddMarkupContent(50, "<div class=\"row 2 mx-0 mb-2 border-top border-solid bg-dark text-white px-4 pt-3\"><h3><strong>DATOS DE LA COMPRA</strong></h3></div>\r\n\r\n                    ");
                __builder2.OpenElement(51, "div");
                __builder2.AddAttribute(52, "class", "justify-content-end d-flex row col-md-12 mt-4 mx-0 form-inline");
                __builder2.AddMarkupContent(53, "\r\n                        ");
                __builder2.OpenElement(54, "h5");
                __builder2.AddAttribute(55, "class", "col-md-9");
                __builder2.AddMarkupContent(56, "\r\n\r\n                            ");
                __builder2.AddMarkupContent(57, "<span class=\"badge badge-light pl-4\">\r\n                                <strong>CLIENTE:</strong>\r\n                            </span>\r\n                            ");
                __builder2.OpenElement(58, "span");
                __builder2.AddAttribute(59, "class", "badge badge-info text-left");
                __builder2.AddMarkupContent(60, "\r\n                                ");
                __builder2.AddContent(61, 
#line 60 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                 compra.comprobante.personaJuridica.razonSocial

#line default
#line hidden
                );
                __builder2.AddMarkupContent(62, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(63, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(64, "\r\n\r\n                        ");
                __builder2.OpenElement(65, "h5");
                __builder2.AddAttribute(66, "class", "col-md-3");
                __builder2.AddMarkupContent(67, "\r\n                            ");
                __builder2.AddMarkupContent(68, "<span class=\"badge badge-light\">\r\n                                <strong>FECHA: </strong>\r\n                            </span>\r\n                            ");
                __builder2.OpenElement(69, "strong");
                __builder2.AddMarkupContent(70, "\r\n                                ");
                __builder2.OpenElement(71, "span");
                __builder2.AddAttribute(72, "class", "badge badge-light");
                __builder2.AddMarkupContent(73, "\r\n                                    ");
                __builder2.AddContent(74, 
#line 70 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                     compra.comprobante.fechaAlta.ToString("dd/MM/yyyy")

#line default
#line hidden
                );
                __builder2.AddMarkupContent(75, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(76, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(77, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(78, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(79, "\r\n\r\n                    ");
                __builder2.OpenElement(80, "div");
                __builder2.AddAttribute(81, "class", "row col-md-12 form-inline mx-0 ");
                __builder2.AddMarkupContent(82, "\r\n\r\n\r\n                        ");
                __builder2.AddMarkupContent(83, "<h5 class=\" col-md-9 \">\r\n                        </h5>\r\n\r\n                        ");
                __builder2.OpenElement(84, "h5");
                __builder2.AddAttribute(85, "class", "col-md-3 ");
                __builder2.AddMarkupContent(86, "\r\n\r\n                            ");
                __builder2.AddMarkupContent(87, "<span class=\"badge badge-light \">\r\n                                <strong>SUCURSAL:</strong>\r\n                            </span>\r\n                            ");
                __builder2.OpenElement(88, "strong");
                __builder2.AddMarkupContent(89, "\r\n                                ");
                __builder2.OpenElement(90, "span");
                __builder2.AddAttribute(91, "class", "badge badge-info ");
                __builder2.AddMarkupContent(92, "\r\n                                    ");
                __builder2.AddContent(93, 
#line 89 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                     compra.comprobante.sucursal.nombreSucursal

#line default
#line hidden
                );
                __builder2.AddMarkupContent(94, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(95, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(96, "\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(97, "\r\n\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(98, "\r\n\r\n                    ");
                __builder2.OpenElement(99, "div");
                __builder2.AddAttribute(100, "class", "justify-content-end d-flex row col-md-12 mx-0");
                __builder2.AddMarkupContent(101, "\r\n\r\n                        ");
                __builder2.OpenElement(102, "h5");
                __builder2.AddAttribute(103, "class", "mt-2 col-md-3");
                __builder2.AddMarkupContent(104, "\r\n                            ");
                __builder2.AddMarkupContent(105, "<span class=\"badge badge-light\">\r\n                                <strong>VENDEDOR: </strong>\r\n                            </span>\r\n                            ");
                __builder2.OpenElement(106, "strong");
                __builder2.AddMarkupContent(107, "\r\n                                ");
                __builder2.OpenElement(108, "span");
                __builder2.AddAttribute(109, "class", "badge badge-info");
                __builder2.AddMarkupContent(110, "\r\n                                    ");
                __builder2.AddContent(111, 
#line 105 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                     compra.comprobante.UserName

#line default
#line hidden
                );
                __builder2.AddMarkupContent(112, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(113, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(114, "\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(115, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(116, "\r\n\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(117, "\r\n");
                __builder2.AddContent(118, "                ");
                __builder2.OpenElement(119, "table");
                __builder2.AddAttribute(120, "class", "row col-md-12 mx-0 px-0 table px-1  table-sm mt-2 table-responsive-sm table-bordered table-hover");
                __builder2.AddMarkupContent(121, "\r\n                    ");
                __builder2.AddMarkupContent(122, @"<thead class=""bg-light col-md-12 mx-0 px-0 "">
                        <tr class=""col-md-12 row mx-0 px-0 text-center d-flex justify-content-center bg-info text-white "" style=""height:2.5rem"">
                            <th class=""col-md-1"" style=""height:2.5rem"">CODIGO</th>
                            <th class=""col-md-7"" style=""height:2.5rem"">DESCRIPCION TALLE COLOR  MARCA</th>

                            <th class=""col-md-1"" style=""height:2.5rem"">CANTIDAD</th>
                            <th class=""col-md-1"" style=""height:2.5rem"">P/UNIDAD</th>
                            <th class=""col-md-1"" style=""height:2.5rem"">DESC.</th>
                            <th class=""col-md-1"" style=""height:2.5rem"">IMPORTE</th>

                        </tr>
                    </thead>
                    ");
                __builder2.OpenElement(123, "tbody");
                __builder2.AddAttribute(124, "class", "col-md-12 mx-0 px-0");
                __builder2.AddMarkupContent(125, "\r\n");
#line 129 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                         foreach (DetalleFactura detalleFactura in compra.detalles)
                        {

#line default
#line hidden
                __builder2.AddContent(126, "                            ");
                __builder2.OpenElement(127, "tr");
                __builder2.AddAttribute(128, "class", "col-md-12 row mx-0 px-0 ");
                __builder2.AddAttribute(129, "style", "height:2.5rem");
                __builder2.AddMarkupContent(130, "\r\n                                ");
                __builder2.OpenElement(131, "td");
                __builder2.AddAttribute(132, "class", "col-md-1 form-inline text-center");
                __builder2.AddAttribute(133, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(134, "\r\n                                    ");
                __builder2.OpenElement(135, "span");
                __builder2.AddAttribute(136, "class", "badge badge-light text-center");
                __builder2.AddContent(137, 
#line 133 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                 detalleFactura.producto.ProductoId

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(138, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(139, "\r\n\r\n                                ");
                __builder2.OpenElement(140, "td");
                __builder2.AddAttribute(141, "class", "col-md-7 text-center ");
                __builder2.AddAttribute(142, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(143, "\r\n                                    ");
                __builder2.OpenElement(144, "h5");
                __builder2.AddAttribute(145, "class", "mt-1");
                __builder2.AddMarkupContent(146, "\r\n\r\n                                        ");
                __builder2.OpenElement(147, "span");
                __builder2.AddAttribute(148, "class", "badge badge-light text-center");
                __builder2.AddContent(149, 
#line 139 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                     detalleFactura.producto.nombre

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(150, "\r\n                                        ");
                __builder2.OpenElement(151, "span");
                __builder2.AddAttribute(152, "class", "badge badge-light text-center");
                __builder2.AddContent(153, 
#line 140 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                     detalleFactura.producto.talle

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(154, "\r\n\r\n                                        ");
                __builder2.OpenElement(155, "span");
                __builder2.AddAttribute(156, "class", "badge badge-light text-center");
                __builder2.AddContent(157, " ");
                __builder2.AddContent(158, 
#line 142 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                      detalleFactura.producto.color

#line default
#line hidden
                );
                __builder2.AddContent(159, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(160, "\r\n                                        ");
                __builder2.OpenElement(161, "span");
                __builder2.AddAttribute(162, "class", "badge badge-light text-center");
                __builder2.AddContent(163, " ");
                __builder2.AddContent(164, 
#line 143 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                      detalleFactura.producto.marca

#line default
#line hidden
                );
                __builder2.AddContent(165, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(166, "\r\n                                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(167, "\r\n\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(168, "\r\n\r\n\r\n\r\n                                ");
                __builder2.OpenElement(169, "td");
                __builder2.AddAttribute(170, "class", "col-md-1");
                __builder2.AddAttribute(171, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(172, "\r\n                                    ");
                __builder2.OpenElement(173, "span");
                __builder2.AddAttribute(174, "class", "badge badge-light text-center");
                __builder2.AddContent(175, " ");
                __builder2.AddContent(176, 
#line 151 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                  detalleFactura.cantidad

#line default
#line hidden
                );
                __builder2.AddContent(177, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(178, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(179, "\r\n                                ");
                __builder2.OpenElement(180, "td");
                __builder2.AddAttribute(181, "class", "col-md-1 text-center ");
                __builder2.AddAttribute(182, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(183, "\r\n                                    ");
                __builder2.OpenElement(184, "h5");
                __builder2.AddMarkupContent(185, "\r\n\r\n                                        ");
                __builder2.OpenElement(186, "span");
                __builder2.AddAttribute(187, "class", "badge badge-light text-center");
                __builder2.AddMarkupContent(188, "\r\n                                            $");
                __builder2.AddContent(189, 
#line 157 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                               detalleFactura.producto.precioUnitario * (detalleFactura.producto.porcentajeRentabilidad / 100 + 1)

#line default
#line hidden
                );
                __builder2.AddMarkupContent(190, "\r\n                                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(191, "\r\n                                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(192, "\r\n\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(193, "\r\n                                ");
                __builder2.OpenElement(194, "td");
                __builder2.AddAttribute(195, "class", "col-md-1");
                __builder2.AddAttribute(196, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(197, "\r\n                                    ");
                __builder2.OpenElement(198, "span");
                __builder2.AddAttribute(199, "class", "badge badge-light text-center");
                __builder2.AddContent(200, " ");
                __builder2.AddContent(201, 
#line 163 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                  detalleFactura.bonificacion

#line default
#line hidden
                );
                __builder2.AddContent(202, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(203, "\r\n\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(204, "\r\n                                ");
                __builder2.OpenElement(205, "td");
                __builder2.AddAttribute(206, "class", "col-md-1 text-center");
                __builder2.AddAttribute(207, "style", "height:2.5rem; padding:2px 8px 2px 8px");
                __builder2.AddMarkupContent(208, "\r\n                                    ");
                __builder2.OpenElement(209, "h5");
                __builder2.AddMarkupContent(210, "\r\n                                        ");
                __builder2.OpenElement(211, "span");
                __builder2.AddAttribute(212, "class", "badge badge-light text-center");
                __builder2.AddMarkupContent(213, "\r\n                                            $");
                __builder2.AddContent(214, 
#line 169 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                               ((detalleFactura.producto.precioUnitario * (detalleFactura.producto.porcentajeRentabilidad / 100 + 1)) - detalleFactura.bonificacion) * detalleFactura.cantidad

#line default
#line hidden
                );
                __builder2.AddMarkupContent(215, "\r\n                                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(216, "\r\n                                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(217, "\r\n                                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(218, "\r\n\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(219, "\r\n");
#line 176 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                        }

#line default
#line hidden
                __builder2.AddContent(220, "                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(221, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(222, "\r\n");
                __builder2.AddContent(223, "                ");
                __builder2.OpenElement(224, "div");
                __builder2.AddAttribute(225, "class", "row col-md-12 mx-0 my-3 px-0");
                __builder2.AddMarkupContent(226, "\r\n                    ");
                __builder2.AddMarkupContent(227, @"<div class=""row 2 col-md-12 mx-0 bg-dark mt-1 rounded text-white mb-4 px-0"">
                        <h5 class=""mt-2 pl-4"">
                            <strong><i class=""far fa-file-alt text-info mr-1""></i>RESUMEN</strong>
                        </h5>
                    </div>

                    ");
                __builder2.OpenElement(228, "div");
                __builder2.AddAttribute(229, "class", "col-md-12 row mx-0 form-inline");
                __builder2.AddMarkupContent(230, "\r\n                        ");
                __builder2.OpenElement(231, "h5");
                __builder2.AddAttribute(232, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(233, "\r\n                            ");
                __builder2.OpenElement(234, "span");
                __builder2.AddAttribute(235, "class", "badge badge-light text-left col-md-6");
                __builder2.AddMarkupContent(236, "\r\n                                ");
                __builder2.OpenElement(237, "strong");
                __builder2.AddContent(238, "SUBTOTAL: $");
                __builder2.AddContent(239, 
#line 190 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                    compra.detalles.Sum(x => x.cantidad * ((x.producto.precioUnitario * (x.producto.porcentajeRentabilidad / 100 + 1)) - x.bonificacion))

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(240, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(241, "\r\n\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(242, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(243, "\r\n\r\n                    ");
                __builder2.OpenElement(244, "div");
                __builder2.AddAttribute(245, "class", "col-md-12 row mx-0 mx-0 ");
                __builder2.AddMarkupContent(246, "\r\n\r\n\r\n                        ");
                __builder2.OpenElement(247, "h5");
                __builder2.AddAttribute(248, "class", "col-md-12 row mx-0 form-inline");
                __builder2.AddMarkupContent(249, "\r\n                            ");
                __builder2.OpenElement(250, "span");
                __builder2.AddAttribute(251, "class", "badge badge-light text-left col-md-6");
                __builder2.AddMarkupContent(252, "\r\n                                ");
                __builder2.OpenElement(253, "strong");
                __builder2.AddAttribute(254, "class", "mt-1");
                __builder2.AddContent(255, " BONIFICACION: $ ");
                __builder2.AddContent(256, 
#line 202 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                        compra.comprobante.bonificacion

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(257, "\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(258, "\r\n\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(259, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(260, "\r\n\r\n\r\n                    ");
                __builder2.OpenElement(261, "div");
                __builder2.AddAttribute(262, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(263, "\r\n                        ");
                __builder2.OpenElement(264, "h5");
                __builder2.AddAttribute(265, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(266, "\r\n\r\n                            ");
                __builder2.OpenElement(267, "span");
                __builder2.AddAttribute(268, "class", "badge badge-dark text-left col-md-6");
                __builder2.AddMarkupContent(269, "\r\n                                ");
                __builder2.OpenElement(270, "strong");
                __builder2.AddContent(271, "TOTAL COMPRA: $");
                __builder2.AddContent(272, 
#line 214 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                         compra.detalles.Sum(x => x.cantidad * ((x.producto.precioUnitario * (x.producto.porcentajeRentabilidad / 100 + 1)) - x.bonificacion)) - compra.comprobante.bonificacion

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(273, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(274, "\r\n\r\n                            ");
                __builder2.OpenElement(275, "span");
                __builder2.AddAttribute(276, "class", "badge badge-dark text-left col-md-6 d-flex justify-content-end");
                __builder2.AddMarkupContent(277, "\r\n                                ");
                __builder2.OpenElement(278, "strong");
                __builder2.AddContent(279, "TOTAL PAGO: $");
                __builder2.AddContent(280, 
#line 218 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                       compra.comprobante.tarjeta + compra.comprobante.efectivo

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(281, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(282, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(283, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(284, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(285, "\r\n");
#line 223 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
            }
            else
            {

#line default
#line hidden
                __builder2.AddContent(286, "                ");
                __builder2.OpenElement(287, "div");
                __builder2.AddAttribute(288, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(289, "\r\n                    ");
                __builder2.OpenElement(290, "h4");
                __builder2.AddMarkupContent(291, "\r\n                        ");
                __builder2.OpenElement(292, "span");
                __builder2.AddAttribute(293, "class", "badge badge-dark text-left d-flex justify-content-lg-start mt-4");
                __builder2.AddMarkupContent(294, "\r\n                            ");
                __builder2.OpenElement(295, "strong");
                __builder2.AddMarkupContent(296, "\r\n                                NO SE ENCONTRARON COMPRA EN ESTE PERIODO\r\n                                ");
                __builder2.OpenElement(297, "span");
                __builder2.AddAttribute(298, "class", "col-md-12 row");
                __builder2.AddContent(299, "Desde: ");
                __builder2.AddContent(300, 
#line 231 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                    fechaDesde.ToString("dd/MM/yyyy")

#line default
#line hidden
                );
                __builder2.AddContent(301, " - Hasta: ");
                __builder2.AddContent(302, 
#line 231 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                fechaHasta.ToString("dd/MM/yyyy")

#line default
#line hidden
                );
                __builder2.AddContent(303, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(304, "\r\n                                ");
                __builder2.OpenElement(305, "span");
                __builder2.AddAttribute(306, "class", "col-md-12 row");
                __builder2.AddContent(307, "Sucursal: ");
                __builder2.AddContent(308, 
#line 232 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                        sucursal != null ? sucursal.nombreSucursal : ""

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(309, "\r\n                                ");
                __builder2.OpenElement(310, "span");
                __builder2.AddAttribute(311, "class", "col-md-12 row");
                __builder2.AddContent(312, "Vendedor: ");
                __builder2.AddContent(313, 
#line 233 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                        user != null ? user.username : ""

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(314, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(315, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(316, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(317, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(318, "\r\n");
#line 238 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
            }

#line default
#line hidden
                __builder2.AddContent(319, "        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(320, "\r\n\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(321, "\r\n\r\n\r\n\r\n\r\n    ");
                __builder2.OpenElement(322, "div");
                __builder2.AddAttribute(323, "class", "modal p-0 fade");
                __builder2.AddAttribute(324, "id", "modal");
                __builder2.AddAttribute(325, "data-backdrop", "static");
                __builder2.AddAttribute(326, "tabindex", "-1");
                __builder2.AddAttribute(327, "role", "dialog");
                __builder2.AddMarkupContent(328, "\r\n        ");
                __builder2.OpenElement(329, "div");
                __builder2.AddAttribute(330, "class", "modal-dialog modal-xl");
                __builder2.AddAttribute(331, "role", "document");
                __builder2.AddMarkupContent(332, "\r\n            ");
                __builder2.OpenElement(333, "div");
                __builder2.AddAttribute(334, "class", "modal-content");
                __builder2.AddMarkupContent(335, "\r\n                ");
                __builder2.OpenElement(336, "div");
                __builder2.AddAttribute(337, "class", "modal-header");
                __builder2.AddMarkupContent(338, "\r\n                    ");
                __builder2.AddMarkupContent(339, "<h5 class=\"modal-title\">Buscar Compra</h5>\r\n                    ");
                __builder2.OpenElement(340, "button");
                __builder2.AddAttribute(341, "type", "button");
                __builder2.AddAttribute(342, "class", "close");
                __builder2.AddAttribute(343, "data-dismiss", "modal");
                __builder2.AddAttribute(344, "aria-label", "Close");
                __builder2.AddAttribute(345, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 252 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                          (async () => { await ModalToggle();  })

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(346, "\r\n                        ");
                __builder2.AddMarkupContent(347, "<span aria-hidden=\"true\">&times;</span>\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(348, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(349, "\r\n                ");
                __builder2.OpenElement(350, "div");
                __builder2.AddAttribute(351, "class", "modal-body p-3 m-2");
                __builder2.AddAttribute(352, "data-spy", "scroll");
                __builder2.AddMarkupContent(353, "\r\n                    ");
                __builder2.OpenElement(354, "div");
                __builder2.AddAttribute(355, "class", "col-md-12 row mx-0");
                __builder2.AddMarkupContent(356, "\r\n                        ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(357);
                __builder2.AddAttribute(358, "Roles", "Admin");
                __builder2.AddAttribute(359, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((_context2) => (__builder3) => {
                    __builder3.AddMarkupContent(360, "\r\n                                ");
                    __builder3.OpenElement(361, "div");
                    __builder3.AddAttribute(362, "class", "input-group col-md-3 mb-3 mx-0");
                    __builder3.AddMarkupContent(363, "\r\n                                    ");
                    __builder3.AddMarkupContent(364, "<div class=\"input-group-prepend input-group-sm \">\r\n                                        <span class=\"input-group-text \" id=\"basic-addon1\">Desde</span>\r\n                                    </div>\r\n                                    ");
                    __builder3.OpenElement(365, "input");
                    __builder3.AddAttribute(366, "type", "date");
                    __builder3.AddAttribute(367, "class", "form-control");
                    __builder3.AddAttribute(368, "value", 
#line 265 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                    DateTime.Now.AddHours(-3).ToString("yyyy-MM-dd")

#line default
#line hidden
                    );
                    __builder3.AddAttribute(369, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 265 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                                   async (ChangeEventArgs e)=> { fechaDesde = Convert.ToDateTime(e.Value.ToString()); await ListarCompras(); }

#line default
#line hidden
                    ));
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(370, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(371, "\r\n                                ");
                    __builder3.OpenElement(372, "div");
                    __builder3.AddAttribute(373, "class", "input-group mb-3 col-md-3");
                    __builder3.AddMarkupContent(374, "\r\n                                    ");
                    __builder3.AddMarkupContent(375, "<div class=\"input-group-prepend input-group-sm\">\r\n                                        <span class=\"input-group-text\" id=\"basic-addon1\">Hasta</span>\r\n                                    </div>\r\n                                    ");
                    __builder3.OpenElement(376, "input");
                    __builder3.AddAttribute(377, "type", "date");
                    __builder3.AddAttribute(378, "class", "form-control");
                    __builder3.AddAttribute(379, "value", 
#line 271 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                    DateTime.Now.AddHours(-3).ToString("yyyy-MM-dd")

#line default
#line hidden
                    );
                    __builder3.AddAttribute(380, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 271 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                                   async (ChangeEventArgs e)=> { fechaHasta = Convert.ToDateTime(e.Value.ToString()); await ListarCompras(); }

#line default
#line hidden
                    ));
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(381, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(382, "\r\n\r\n\r\n                                ");
                    __builder3.OpenElement(383, "div");
                    __builder3.AddAttribute(384, "class", "input-group mb-3 col-md-3");
                    __builder3.AddMarkupContent(385, "\r\n                                    ");
                    __builder3.AddMarkupContent(386, "<div class=\"input-group-prepend input-group-sm\">\r\n                                        <span class=\"input-group-text\" id=\"basic-addon1\">Sucursal</span>\r\n                                    </div>\r\n                                    ");
                    __builder3.OpenElement(387, "select");
                    __builder3.AddAttribute(388, "class", "form-control");
                    __builder3.AddAttribute(389, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 279 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                            (async(ChangeEventArgs e)=> { sucursal = sucursales.Where(x => x.SucursalId == Convert.ToInt32(e.Value.ToString())).First(); await ListarCompras(); })

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(390, "\r\n\r\n                                        ");
                    __builder3.OpenElement(391, "option");
                    __builder3.AddMarkupContent(392, "\r\n                                            Selecciona una sucursal\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(393, "\r\n");
#line 284 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         foreach (Sucursal _sucursal in sucursales)
                                        {
                                            

#line default
#line hidden
#line 286 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                             if (_sucursal.SucursalId == sucursal.SucursalId)
                                            {

#line default
#line hidden
                    __builder3.AddContent(394, "                                                ");
                    __builder3.OpenElement(395, "option");
                    __builder3.AddAttribute(396, "selected", true);
                    __builder3.AddAttribute(397, "value", 
#line 288 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                         _sucursal.SucursalId

#line default
#line hidden
                    );
                    __builder3.AddContent(398, 
#line 288 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                _sucursal.nombreSucursal

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(399, "\r\n");
#line 289 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"

                                            }
                                            else
                                            {

#line default
#line hidden
                    __builder3.AddContent(400, "                                                ");
                    __builder3.OpenElement(401, "option");
                    __builder3.AddAttribute(402, "value", 
#line 293 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                _sucursal.SucursalId

#line default
#line hidden
                    );
                    __builder3.AddContent(403, 
#line 293 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                       _sucursal.nombreSucursal

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(404, "\r\n");
#line 294 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"

                                            }

#line default
#line hidden
#line 295 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                             
                                        }

#line default
#line hidden
                    __builder3.AddContent(405, "                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(406, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(407, "\r\n\r\n                                ");
                    __builder3.OpenElement(408, "div");
                    __builder3.AddAttribute(409, "class", "input-group mb-3 col-md-3");
                    __builder3.AddMarkupContent(410, "\r\n                                    ");
                    __builder3.AddMarkupContent(411, "<div class=\"input-group-prepend input-group-sm\">\r\n                                        <span class=\"input-group-text\" id=\"basic-addon1\">Usuario</span>\r\n                                    </div>\r\n                                    ");
                    __builder3.OpenElement(412, "select");
                    __builder3.AddAttribute(413, "class", "form-control");
                    __builder3.AddAttribute(414, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 304 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                            (async(ChangeEventArgs e)=> { user = users.Where(x => x.id == e.Value.ToString()).First(); await ListarCompras(); })

#line default
#line hidden
                    ));
                    __builder3.AddMarkupContent(415, "\r\n\r\n                                        ");
                    __builder3.OpenElement(416, "option");
                    __builder3.AddMarkupContent(417, "\r\n                                            Selecciona un usuario\r\n                                        ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(418, "\r\n");
#line 309 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         foreach (UserInfo _user in users)
                                        {
                                            

#line default
#line hidden
#line 311 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                             if (user.id == _user.id)
                                            {

#line default
#line hidden
                    __builder3.AddContent(419, "                                                ");
                    __builder3.OpenElement(420, "option");
                    __builder3.AddAttribute(421, "selected", true);
                    __builder3.AddAttribute(422, "value", 
#line 313 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                         _user.id

#line default
#line hidden
                    );
                    __builder3.AddContent(423, 
#line 313 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                    _user.username

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(424, "\r\n");
#line 314 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                            }
                                            else
                                            {

#line default
#line hidden
                    __builder3.AddContent(425, "                                                ");
                    __builder3.OpenElement(426, "option");
                    __builder3.AddAttribute(427, "value", 
#line 317 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                _user.id

#line default
#line hidden
                    );
                    __builder3.AddContent(428, 
#line 317 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                           _user.username

#line default
#line hidden
                    );
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(429, "\r\n");
#line 318 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"

                                            }

#line default
#line hidden
#line 319 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                             
                                        }

#line default
#line hidden
                    __builder3.AddContent(430, "                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(431, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(432, "\r\n                            ");
                }
                ));
                __builder2.AddAttribute(433, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((_context2) => (__builder3) => {
                    __builder3.AddMarkupContent(434, "\r\n                                ");
                    __builder3.OpenElement(435, "h5");
                    __builder3.AddAttribute(436, "class", "col-md-12");
                    __builder3.AddMarkupContent(437, "\r\n\r\n                                    ");
                    __builder3.AddMarkupContent(438, "<span class=\"badge badge-light pl-4\">\r\n                                        <strong>DESDE:</strong>\r\n                                    </span>\r\n                                    ");
                    __builder3.OpenElement(439, "span");
                    __builder3.AddAttribute(440, "class", "badge badge-info text-left");
                    __builder3.AddMarkupContent(441, "\r\n                                        ");
                    __builder3.AddContent(442, 
#line 331 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         fechaDesde.ToString("dd/MM/yyyy")

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(443, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(444, "\r\n\r\n                                    ");
                    __builder3.AddMarkupContent(445, "<span class=\"badge badge-light pl-4\">\r\n                                        <strong>HASTA:</strong>\r\n                                    </span>\r\n                                    ");
                    __builder3.OpenElement(446, "span");
                    __builder3.AddAttribute(447, "class", "badge badge-info text-left");
                    __builder3.AddMarkupContent(448, "\r\n                                        ");
                    __builder3.AddContent(449, 
#line 338 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         fechaDesde.ToString("dd/MM/yyyy")

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(450, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(451, "\r\n\r\n                                    ");
                    __builder3.AddMarkupContent(452, "<span class=\"badge badge-light pl-4\">\r\n                                        <strong>Sucursal:</strong>\r\n                                    </span>\r\n                                    ");
                    __builder3.OpenElement(453, "span");
                    __builder3.AddAttribute(454, "class", "badge badge-info text-left");
                    __builder3.AddMarkupContent(455, "\r\n                                        ");
                    __builder3.AddContent(456, 
#line 345 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         VariablesGlobales.sucursal.nombreSucursal

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(457, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(458, "\r\n\r\n                                    ");
                    __builder3.AddMarkupContent(459, "<span class=\"badge badge-light pl-4\">\r\n                                        <strong>Usuario:</strong>\r\n                                    </span>\r\n                                    ");
                    __builder3.OpenElement(460, "span");
                    __builder3.AddAttribute(461, "class", "badge badge-info text-left");
                    __builder3.AddMarkupContent(462, "\r\n                                        ");
                    __builder3.AddContent(463, 
#line 352 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                         _context2.User.Identity.Name

#line default
#line hidden
                    );
                    __builder3.AddMarkupContent(464, "\r\n                                    ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(465, "\r\n                                ");
                    __builder3.CloseElement();
                    __builder3.AddMarkupContent(466, "\r\n                            ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(467, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(468, "\r\n                    ");
                __builder2.OpenElement(469, "div");
                __builder2.AddAttribute(470, "class", "input-group mb-3");
                __builder2.AddMarkupContent(471, "\r\n                        ");
                __builder2.OpenElement(472, "div");
                __builder2.AddAttribute(473, "class", "input-group-prepend");
                __builder2.AddMarkupContent(474, "\r\n                            ");
                __builder2.OpenElement(475, "button");
                __builder2.AddAttribute(476, "type", "button");
                __builder2.AddAttribute(477, "class", "btn btn-outline-secondary");
                __builder2.AddContent(478, 
#line 360 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                      criterioBusqueda == String.Empty ? "Nombre" : criterioBusqueda

#line default
#line hidden
                );
                __builder2.AddContent(479, " ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(480, "\r\n                            ");
                __builder2.AddMarkupContent(481, @"<button type=""button"" class=""btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false"">
                                <span class=""sr-only"">Toggle Dropdown</span>
                            </button>
                            ");
                __builder2.OpenElement(482, "div");
                __builder2.AddAttribute(483, "class", "dropdown-menu");
                __builder2.AddMarkupContent(484, "\r\n                                ");
                __builder2.OpenElement(485, "a");
                __builder2.AddAttribute(486, "class", "dropdown-item");
                __builder2.AddAttribute(487, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 365 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                     () => criterioBusqueda = "Codigo"

#line default
#line hidden
                ));
                __builder2.AddContent(488, "Codigo");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(489, "\r\n                                ");
                __builder2.OpenElement(490, "a");
                __builder2.AddAttribute(491, "class", "dropdown-item");
                __builder2.AddAttribute(492, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 366 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                     () => criterioBusqueda = "Razon Social"

#line default
#line hidden
                ));
                __builder2.AddContent(493, "Razon Social");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(494, "\r\n\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(495, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(496, "\r\n                        ");
                __builder2.OpenElement(497, "input");
                __builder2.AddAttribute(498, "type", "text");
                __builder2.AddAttribute(499, "class", "form-control");
                __builder2.AddAttribute(500, "onkeypress", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#line 370 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                               (KeyboardEventArgs e)=> {  FiltrarCompra(e); }

#line default
#line hidden
                ));
                __builder2.AddAttribute(501, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#line 370 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                              cadenafiltroBusqueda

#line default
#line hidden
                ));
                __builder2.AddAttribute(502, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cadenafiltroBusqueda = __value, cadenafiltroBusqueda));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(503, "\r\n\r\n\r\n                        ");
                __builder2.OpenElement(504, "table");
                __builder2.AddAttribute(505, "class", "table table-striped mt-3 table-sm");
                __builder2.AddMarkupContent(506, "\r\n                            ");
                __builder2.AddMarkupContent(507, @"<thead class=""bg-dark text-white"">

                                <tr>
                                    <th>Fecha</th>
                                    <th>CÃ³digo</th>
                                    <th>Razon Social</th>
                                    <th>Sucursal</th>
                                    <th>Vendedor</th>

                                    <th>Importe</th>
                                    <th>Acciones</th>


                                </tr>
                            </thead>
                            ");
                __builder2.OpenElement(508, "tbody");
                __builder2.AddMarkupContent(509, "\r\n");
#line 390 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                 if (compras.Count > 0)
                                {
                                    

#line default
#line hidden
#line 392 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                     foreach (FacturaDto compra in comprasBuscadas)
                                    {

#line default
#line hidden
                __builder2.AddContent(510, "                                        ");
                __builder2.OpenElement(511, "tr");
                __builder2.AddMarkupContent(512, "\r\n                                            ");
                __builder2.OpenElement(513, "td");
                __builder2.AddContent(514, 
#line 395 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                 compra.comprobante.fechaAlta

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(515, "\r\n                                            ");
                __builder2.OpenElement(516, "td");
                __builder2.AddContent(517, 
#line 396 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                 compra.comprobante.codigo

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(518, "\r\n                                            ");
                __builder2.OpenElement(519, "td");
                __builder2.AddContent(520, 
#line 397 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                 compra.comprobante.personaJuridica.razonSocial

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(521, "\r\n                                            ");
                __builder2.OpenElement(522, "td");
                __builder2.AddContent(523, 
#line 398 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                 compra.comprobante.sucursal.nombreSucursal

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(524, "\r\n                                            ");
                __builder2.OpenElement(525, "td");
                __builder2.AddContent(526, 
#line 399 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                 compra.comprobante.UserName

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(527, "\r\n\r\n                                            ");
                __builder2.OpenElement(528, "td");
                __builder2.AddContent(529, "$ ");
                __builder2.AddContent(530, 
#line 401 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                   compra.comprobante.importe

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(531, "\r\n\r\n                                            ");
                __builder2.OpenElement(532, "td");
                __builder2.OpenElement(533, "button");
                __builder2.AddAttribute(534, "class", "btn");
                __builder2.AddAttribute(535, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 403 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                async () => { await BuscarCompra(compra.comprobante.codigo); await ModalToggle(); cadenaBusqueda = Convert.ToString(compra.comprobante.codigo); }

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(536, "<i class=\"far fa-eye text-primary\"></i>");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(537, "\r\n                                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(538, "\r\n");
#line 405 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                    }

#line default
#line hidden
#line 405 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                     

                                }

#line default
#line hidden
                __builder2.AddMarkupContent(539, "\r\n                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(540, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(541, "\r\n                        <div class=\"col-md-12 mx-0 row\"></div>\r\n                        <div class=\"col-md-12 mx-0 row bg-dark\"></div>\r\n                        ");
                __builder2.OpenElement(542, "div");
                __builder2.OpenElement(543, "h6");
                __builder2.OpenElement(544, "strong");
                __builder2.AddContent(545, "TOTAL COMPRAS $ ");
                __builder2.AddContent(546, 
#line 413 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                          comprasBuscadas.Sum(x => x.comprobante.importe)

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(547, "\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(548, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(549, "\r\n\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(550, "\r\n        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(551, "\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(552, "\r\n\r\n    ");
                __builder2.OpenElement(553, "div");
                __builder2.AddAttribute(554, "class", "modal p-0 fade");
                __builder2.AddAttribute(555, "id", "modalConfirm");
                __builder2.AddAttribute(556, "data-backdrop", "static");
                __builder2.AddAttribute(557, "tabindex", "-1");
                __builder2.AddAttribute(558, "role", "dialog");
                __builder2.AddMarkupContent(559, "\r\n        ");
                __builder2.OpenElement(560, "div");
                __builder2.AddAttribute(561, "class", "modal-dialog ");
                __builder2.AddAttribute(562, "role", "document");
                __builder2.AddMarkupContent(563, "\r\n            ");
                __builder2.OpenElement(564, "div");
                __builder2.AddAttribute(565, "class", "modal-content");
                __builder2.AddMarkupContent(566, "\r\n                ");
                __builder2.OpenElement(567, "div");
                __builder2.AddAttribute(568, "class", "modal-header");
                __builder2.AddMarkupContent(569, "\r\n                    ");
                __builder2.AddMarkupContent(570, "<h5 class=\"modal-title\">CONFIRMAR</h5>\r\n                    ");
                __builder2.OpenElement(571, "button");
                __builder2.AddAttribute(572, "type", "button");
                __builder2.AddAttribute(573, "class", "close");
                __builder2.AddAttribute(574, "data-dismiss", "modal");
                __builder2.AddAttribute(575, "aria-label", "Close");
                __builder2.AddAttribute(576, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 426 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                          (async () => { await ModalConfirmToggle(); })

#line default
#line hidden
                ));
                __builder2.AddMarkupContent(577, "\r\n                        ");
                __builder2.AddMarkupContent(578, "<span aria-hidden=\"true\">&times;</span>\r\n                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(579, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(580, "\r\n                ");
                __builder2.OpenElement(581, "div");
                __builder2.AddAttribute(582, "class", "modal-body p-3 m-2");
                __builder2.AddAttribute(583, "data-spy", "scroll");
                __builder2.AddMarkupContent(584, "\r\n\r\n                    ");
                __builder2.AddMarkupContent(585, "<p><strong>Â¿Desea anular este comprobante? Una vez anulado no podrÃ¡ volver atrÃ¡s.</strong></p>\r\n                    ");
                __builder2.OpenElement(586, "div");
                __builder2.AddAttribute(587, "class", "col-md-12 d-flex justify-content-center mt-4");
                __builder2.AddContent(588, " ");
                __builder2.OpenElement(589, "button");
                __builder2.AddAttribute(590, "class", "btn btn-success col-md-4");
                __builder2.AddAttribute(591, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 434 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                    async () => {await  AnularCompra(); await ModalConfirmToggle(); }

#line default
#line hidden
                ));
                __builder2.AddContent(592, "OK");
                __builder2.CloseElement();
                __builder2.OpenElement(593, "button");
                __builder2.AddAttribute(594, "class", "btn btn-light ml-2 col-md-4");
                __builder2.AddAttribute(595, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#line 434 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
                                                                                                                                                                                                                                                                          ModalConfirmToggle

#line default
#line hidden
                ));
                __builder2.AddContent(596, "CANCELAR");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(597, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(598, "\r\n\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(599, "\r\n        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(600, "\r\n    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(601, "\r\n\r\n");
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#line 443 "D:\GIT\AlmaLibre_Blazor\LaymarClientSide\Client\Pages\Compras\ComprasComponent.razor"
       
    public string cadenaBusqueda { get; set; }
    public string cadenafiltroBusqueda { get; set; } = String.Empty;
    public string criterioBusqueda { get; set; } = "Razon Social";
    public DateTime fechaDesde { get; set; } = DateTime.Now.AddHours(-3).Date;
    public DateTime fechaHasta { get; set; } = DateTime.Now.AddHours(-3).Date;
    public Sucursal sucursal { get; set; } = VariablesGlobales.sucursal;
    public UserInfo user { get; set; }
    public List<Sucursal> sucursales { get; set; } = new List<Sucursal>();
    public List<UserInfo> users { get; set; } = new List<UserInfo>();
    public List<FacturaDto> compras { get; set; } = new List<FacturaDto>();
    public List<FacturaDto> comprasBuscadas { get; set; } = new List<FacturaDto>();
    public FacturaDto compra { get; set; } = new FacturaDto { comprobante = new Comprobante { personaJuridica = new Proveedor(), sucursal = new Sucursal() }, detalles = new List<DetalleFactura>() };

    protected override async Task OnInitializedAsync()
    {

       
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        await ListarUsuarios();
        await ListarSucursales();

        user = users.Where(x => x.username == authState.User.Identity.Name).First();
        await ListarCompras();



    }

    protected async Task ListarUsuarios()
    {
        users = await http.GetJsonAsync<List<UserInfo>>("/api/Cuentas/Usuarios");

    }
    protected async Task ListarSucursales()
    {
        sucursales = await http.GetJsonAsync<List<Sucursal>>("/api/Sucursal/Listar");


    }
    protected async Task ListarCompras()
    {
        compras = await http.GetJsonAsync<List<FacturaDto>>($"/api/Comprobante/ListarCompras/{sucursal.SucursalId}/{user.username}/{fechaDesde.ToString("dd-MM-yyyy")}/{fechaHasta.ToString("dd-MM-yyyy")}");
        if (compras.Count > 0)
        {
            compra = compras.Last();
            cadenaBusqueda = Convert.ToString(compra.comprobante.codigo);
        }
        else
        {
            compra = new FacturaDto { comprobante = new Comprobante { personaJuridica = new Proveedor(), sucursal = new Sucursal() }, detalles = new List<DetalleFactura>() };
            cadenaBusqueda = "";

        }
        comprasBuscadas = compras;

    }

    protected async Task AnularCompra()
    {

        await http.DeleteAsync($"/api/Comprobante/AnularCompra/{compra.comprobante.ComprobanteId}");
        await ListarCompras();
        await Alerta("top-end", "info", "Se anulo el comprobante");

    }

    protected async Task BuscarCompra(string codigo)
    {
        FacturaDto compraEncontrada = null;
        try
        {
            compraEncontrada = compras.Where(x => x.comprobante.codigo == codigo).First();

        }
        catch (Exception)
        {

        }

        if (compraEncontrada != null)
        {
            compra = compraEncontrada;

        }
        else
        {
            cadenaBusqueda = Convert.ToString(compra.comprobante.codigo);
            await Alerta("top-end", "error", "Compra inexistente");

        }

    }




    protected void FiltrarCompra(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
        {
            if (cadenafiltroBusqueda != "" && cadenafiltroBusqueda != string.Empty)
            {
                try
                {
                    if (criterioBusqueda == "Codigo")
                    {
                        comprasBuscadas = compras.Where(x => x.comprobante.codigo.ToString().ToLower().Contains(cadenafiltroBusqueda.ToLower())).ToList();
                    }
                    if (criterioBusqueda == "Proveedor")
                    {
                        comprasBuscadas = compras.Where(x => x.comprobante.personaJuridica.razonSocial.ToLower().Contains(cadenafiltroBusqueda.ToLower())).ToList();
                    }

                }
                catch (Exception)
                {


                }

            }
            else { comprasBuscadas = compras; }
        }
    }


    public async Task Alerta(string posicion = "top-end", string icono = "success", string mensaje = "Se creÃ³ el producto con Ã©xito")
    {
        await js.InvokeAsync<object>("alerta", posicion, icono, mensaje);
    }

    public async Task ModalToggle()
    {
        await js.InvokeAsync<object>("ModalToggle");
    }


    public async Task ModalConfirmToggle()
    {
        await js.InvokeAsync<object>("ModalConfirmToggle");
    }

#line default
#line hidden
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime js { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient http { get; set; }
    }
}
#pragma warning restore 1591
